---
import type { Anime } from '../../types/anime';
import AnimeCard from './AnimeCard.astro';

interface Props {
  animes: Anime[];
  title?: string;
  loading?: 'lazy' | 'eager';
}

const { animes, title, loading = 'lazy' } = Astro.props;
---

{title && (
  <div class="mb-8 border-b border-gray-200 pb-4 dark:border-gray-800">
    <h2 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white">
      {title}
    </h2>
  </div>
)}

<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">
  {animes.map((anime, index) => (
    <AnimeCard anime={anime} loading={index < 8 ? 'eager' : loading} />
  ))}
</div>

{animes.length === 0 && (
  <div class="flex flex-col items-center justify-center rounded-xl border-2 border-dashed border-gray-200 py-16 text-center dark:border-gray-800">
    <div class="mb-4 text-4xl">ðŸ“‚</div>
    <h3 class="mb-1 text-lg font-bold text-gray-900 dark:text-white">
      Tidak ada anime ditemukan
    </h3>
    <p class="text-sm text-gray-500 dark:text-gray-400">
      Coba cari dengan kata kunci lain atau periksa kembali filter kamu.
    </p>
  </div>
)}